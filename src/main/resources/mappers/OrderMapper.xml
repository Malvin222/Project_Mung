<!-- resources/mapper/UserMapper.xml -->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project_mung.mapper.OrderMapper">


    <!-- 주문목록 조회 -->
    <select id="getOrderItems" resultType="com.project_mung.domain.Cart">
        SELECT * FROM cart WHERE cartid IN
        <foreach collection="cartids" item="cartid" open="(" separator="," close=")">
            #{cartid}
        </foreach>
    </select>

    <!--배송지 조회-->
    <select id="getDelivery">
        SELECT * FROM delivery WHERE userid = #{userid}
    </select>
    <!--배송지저장-->
    <insert id="insertDelivery">
        INSERT INTO delivery (userid
                         ,deliveryname
                         ,customername
                         ,deliveryaddress
                         ,deliverypostcode
                         ,deliverydetailaddr
                         ,customerphone)
        VALUES (#{userid}
               ,#{deliveryname}
               ,#{customername}
               ,#{deliveryaddress}
               ,#{deliverypostcode}
               ,#{deliverydetailaddr}
               ,#{customerphone})
    </insert>
    <!--배송지삭제-->
    <delete id="deleteDelivery">
        DELETE FROM delivery WHERE deliveryid = #{deliveryid}
    </delete>

</mapper>